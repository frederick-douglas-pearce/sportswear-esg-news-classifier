# NewsData.io API Key
# Get your free API key at: https://newsdata.io/register
NEWSDATA_API_KEY=your_api_key_here

# PostgreSQL Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/esg_news
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=esg_news

# Collection Settings
MAX_API_CALLS_PER_DAY=200
SCRAPE_DELAY_SECONDS=2

# GDELT Settings
GDELT_TIMESPAN=3m
GDELT_MAX_RECORDS=250

# Labeling Pipeline Settings
# Get your Anthropic API key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key_here
# Get your OpenAI API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_key_here

# Labeling Model Configuration
LABELING_MODEL=claude-sonnet-4-20250514
EMBEDDING_MODEL=text-embedding-3-small
LABELING_BATCH_SIZE=10

# Chunking Configuration
TARGET_CHUNK_TOKENS=500
MAX_CHUNK_TOKENS=800
MIN_CHUNK_TOKENS=100

# FP Classifier Pre-filter (reduces LLM costs by filtering false positives)
# Set to true to enable FP classifier pre-filter
FP_CLASSIFIER_ENABLED=false
# URL of FP classifier API (e.g., deployed FastAPI service)
FP_CLASSIFIER_URL=http://localhost:8000
# Threshold for skipping LLM - articles below this probability are filtered
# Default 0.5 means: only skip if <50% probability of being sportswear
FP_SKIP_LLM_THRESHOLD=0.5
# Timeout for FP classifier API calls in seconds
FP_CLASSIFIER_TIMEOUT=30.0

# MLOps - MLflow Experiment Tracking
# Set to true to enable MLflow tracking during training
MLFLOW_ENABLED=false
# MLflow tracking URI (sqlite for local, or http://host:port for server)
MLFLOW_TRACKING_URI=sqlite:///mlruns.db
# Prefix for experiment names (e.g., esg-classifier-fp, esg-classifier-ep)
MLFLOW_EXPERIMENT_PREFIX=esg-classifier

# MLOps - Evidently AI Production Monitoring
# Set to true to enable Evidently drift detection and HTML reports
EVIDENTLY_ENABLED=false
# Directory for Evidently HTML reports
EVIDENTLY_REPORTS_DIR=reports/monitoring
# Drift threshold - alert if drift score exceeds this value (0-1)
# Start conservative at 0.15; tune with data once enough history exists
DRIFT_THRESHOLD=0.15

# MLOps - Reference Data for Drift Detection
# Directory for reference datasets (parquet files)
REFERENCE_DATA_DIR=data/reference
# Number of days of historical data to use for reference
REFERENCE_WINDOW_DAYS=30

# MLOps - Alerting
# Webhook URL for Slack/Discord alerts (leave empty to disable)
ALERT_WEBHOOK_URL=
# Send alert when drift is detected
ALERT_ON_DRIFT=true
# Send alert when training completes
ALERT_ON_TRAINING=false

# Agent Orchestrator Settings
# Enable LLM analysis of labeling results (Phase 4 feature)
AGENT_LLM_ANALYSIS=false
# Error rate threshold to trigger LLM analysis (0.0 = always, 0.1 = >10% errors)
AGENT_LLM_ERROR_THRESHOLD=0.1

# Agent Email Notifications
# Set to true to enable email notifications
AGENT_EMAIL_ENABLED=false
# Recipient email address for notifications
AGENT_EMAIL_RECIPIENT=
# Sender email address (your verified domain or use onboarding@resend.dev for testing)
AGENT_EMAIL_SENDER=

# Resend API (recommended - sign up at resend.com, 3000 emails/month free)
# When set, Resend is used instead of SMTP
RESEND_API_KEY=

# SMTP settings (legacy fallback - only used if RESEND_API_KEY is not set)
# AGENT_SMTP_HOST=smtp.gmail.com
# AGENT_SMTP_PORT=587
# AGENT_SMTP_PASSWORD=
