# NewsData.io API Key
# Get your free API key at: https://newsdata.io/register
NEWSDATA_API_KEY=your_api_key_here

# PostgreSQL Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/esg_news
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=esg_news

# Collection Settings
MAX_API_CALLS_PER_DAY=200
SCRAPE_DELAY_SECONDS=2

# GDELT Settings
GDELT_TIMESPAN=3m
GDELT_MAX_RECORDS=250

# Labeling Pipeline Settings
# Get your Anthropic API key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key_here
# Get your OpenAI API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_key_here

# Labeling Model Configuration
LABELING_MODEL=claude-sonnet-4-20250514
EMBEDDING_MODEL=text-embedding-3-small
LABELING_BATCH_SIZE=10

# Chunking Configuration
TARGET_CHUNK_TOKENS=500
MAX_CHUNK_TOKENS=800
MIN_CHUNK_TOKENS=100

# FP Classifier Pre-filter (reduces LLM costs by filtering false positives)
# Set to true to enable FP classifier pre-filter
FP_CLASSIFIER_ENABLED=false
# URL of FP classifier API (e.g., deployed FastAPI service)
FP_CLASSIFIER_URL=http://localhost:8000
# Threshold for skipping LLM - articles below this probability are filtered
# Default 0.5 means: only skip if <50% probability of being sportswear
FP_SKIP_LLM_THRESHOLD=0.5
# Timeout for FP classifier API calls in seconds
FP_CLASSIFIER_TIMEOUT=30.0

# MLOps - MLflow Experiment Tracking
# Set to true to enable MLflow tracking during training
MLFLOW_ENABLED=false
# MLflow tracking URI (file path for local, or http://host:port for server)
MLFLOW_TRACKING_URI=file:./mlruns
# Prefix for experiment names (e.g., esg-classifier-fp, esg-classifier-ep)
MLFLOW_EXPERIMENT_PREFIX=esg-classifier

# MLOps - Evidently AI Production Monitoring
# Set to true to enable Evidently drift detection and HTML reports
EVIDENTLY_ENABLED=false
# Directory for Evidently HTML reports
EVIDENTLY_REPORTS_DIR=reports/monitoring
# Drift threshold - alert if drift score exceeds this value (0-1)
DRIFT_THRESHOLD=0.1

# MLOps - Reference Data for Drift Detection
# Directory for reference datasets (parquet files)
REFERENCE_DATA_DIR=data/reference
# Number of days of historical data to use for reference
REFERENCE_WINDOW_DAYS=30

# MLOps - Alerting
# Webhook URL for Slack/Discord alerts (leave empty to disable)
ALERT_WEBHOOK_URL=
# Send alert when drift is detected
ALERT_ON_DRIFT=true
# Send alert when training completes
ALERT_ON_TRAINING=false
